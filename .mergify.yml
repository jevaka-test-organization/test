pull_request_rules:
  - name: Merge master into develop
    conditions:
      - base=develop
      - head=master
      - -conflict
      - 'status-success=ci/circleci: build'
      # - status-success=SonarCloud Code Analysis
      # - status-success=mergefreeze
      - author=@only-cklewin-and-testuser9891
    actions:
      review:
        type: APPROVE
      merge:
        method: merge
  - name: Approve stub into develop
    conditions:
      - base=develop
      - head~=^meta/([0-9\.])*-alpha$
      - author=@only-cklewin-and-testuser9891
    actions:
      review:
        type: APPROVE
        message: Auto approved by Mergify bot
  - name: Merge stub into develop
    conditions:
      - base=develop
      - head~=^meta/([0-9\.])*-alpha$
      - -conflict
      - author=@only-cklewin-and-testuser9891
    actions:
      merge:
        method: merge
  - name: Delete head branch after merge
    conditions:
      - head!=master
      - head~=^meta/([0-9\.])*-alpha$
      - merged
    actions:
      delete_head_branch: {}
